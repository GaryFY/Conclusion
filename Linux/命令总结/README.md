###系统目录作用
* /etc 目录用来存放配置信息
* /var 可变化的目录
* /root 用来存放用户信息
* /home 用户的家目录

###查看命令区别
cat,less,more都可以查看，只是查看的方式不一样   
* less可以让光标上下移动
* more只能用enter键往下翻
* cat的话直接跳到最后一页

###各个关机命令区别
在linux命令中reboot是重新启动，shutdown -r now是立即停止然后重新启动，都说他们两个是一样的，其实是有一定的区别的。

* shutdown命令可以安全地关闭或重启Linux系统，它在系统关闭之前给系统上的所有登录用户提示一条警告信息。
该命令还允许用户指定一个时间参数，可以是一个精确的时间，也可以是从现在开始的一个时间段。
精确时间的格式是hh:mm，表示小时和分钟，时间段由+ 和分钟数表示。系统执行该命令后会自动进行数据同步的工作。   
该命令的一般格式: shutdown [选项] [时间] [警告信息]     
命令中各选项的含义为: 
```    
- k 并不真正关机而只是发出警告信息给所有用户
- r 关机后立即重新启动
- h 关机后不重新启动
- f 快速关机重启动时跳过fsck
- n 快速关机不经过init 程序
- c 取消一个已经运行的shutdown
```
需要特别说明的是该命令只能由超级用户使用。    
例1，系统在十分钟后关机并且马上重新启动: # shutdown –r +10    
例2，系统马上关机并且不重新启动:# shutdown –h now      
* halt是最简单的关机命令，其实际上是**调用shutdown -h**命令。halt执行时，杀死应用进程，文件系统写操作完成后就会停止内核。    
halt命令的部分参数如下：    
```
[-f] 没有调用shutdown而强制关机或重启
[-i] 关机或重新启动之前，关掉所有的网络接口
[-p] 关机时调用poweroff，此选项为缺省选项
```    
* reboot的工作过程与halt类似，其作用是重新启动，而halt是关机。其参数也与halt类似。
reboot命令重启动系统时是**删除所有的进程**，而不是平稳地终止它们。因此，使用reboot命令可以快速地关闭系统，
但如果还有其它用户在该系统上工作时，就会引起数据的丢失。所以使用reboot命令的场合主要是在单用户模式。   
    
* init是所有进程的祖先，其进程号始终为1。init用于切换系统的运行级别，切换的工作是立即完成的。
init 0命令用于立即将系统运行级别切换为0，即关机；init 6命令用于将系统运行级别切换为6，即重新启动

###rpm命令参数
```
－ivh：安装显示安装进度--install--verbose--hash 
－Uvh：升级软件包--Update； 
－qpl：列出RPM软件包内的文件信息[Query Package list]； 
－qpi：列出RPM软件包的描述信息[Query Package install package(s)]； 
－qf：查找指定文件属于哪个RPM软件包[Query File]； 
－Va：校验所有的RPM软件包，查找丢失的文件[View Lost]； 
－e：删除包
```

###ctrl+z
* fg:将后台中的命令调至前台继续运行
* bg:将一个在后台暂停的命令，变成继续执行
* ctrl+z:可以将一个正在前台执行的命令放到后台，并且暂停

###网络相关配置
* /etc/hosts 主机名到 IP 地址的映射关系的文件
* /etc/resolv.conf DNS 服务的配置文件 
* /etc/gateways 建立动态路由需要用到的文件
* /etc/HOSTNAME 这个文件存的是主机名 

###sort命令
例：有一个文件ip.txt，每行一条ip记录，共若干行，下面哪个命令可以实现“统计出现次数最多的前3个ip及其次数”？
```
sort ip.txt│uniq -c│sort -rn│head -n 3
```
sort 是按ASCII码排序       
-n   依照数值的大小排序。    
-r   以相反的顺序来排序。   
uniq -c 是去重并显示个数    
head -n 3 为取前3行    

###文本处理工具
* csh:调用 C shell。
* Tcsh是csh的增强版，并且完全兼容csh。它不但具有csh的全部功能，还具有命令行编辑、拼写校正、可编程字符集、历史纪录、 作业控制 等功能，以及C语言风格的语法结构。
* AWK 是一种优良的文本处理工具， Linux 及 Unix 环境中现有的功能最强大的数据处理引擎之一, 
AWK 提供了极其强大的功能：可以进行样式装入、 流控制 、数学 运算符 、进程 控制语句 甚至于内置的变量和函数。
**具有很多c语言的功能，又称过滤器**
* SED: Stream EDitor

###线程安全与同步
普通整数的一般赋值、增量和减量语句会产生多条机器指令，操作均不具有**原子性，需要同步**。
虚拟存储器具有请求调入和置换功能，所以虚拟内存的大小不收物理内存大小的限制。

###文件系统
* **/etc/mtab文件的作用：**     
记载的是现在系统已经装载的文件系统，包括操作系统建立的虚拟文件等；而/etc/fstab是系统准备装载的
* **etc/fstab文件的作用 ：**     
记录了计算机上硬盘分区的相关信息，启动 Linux 的时候，检查分区的 fsck 命令，和挂载分区的 mount 命令，都需要 fstab 中的信息，来正确的检查和挂载硬盘。

###权限问题
功能说明：指定在建立文件时预设的权限掩码。   
语　　法：umask [-S][权限掩码]     
补充说明：umask可用来设定[权限掩码]。[权限掩码]是由3个八进制的数字所组成，将现有的存取权限减掉权限掩码后，即可产生建立文件时预设的权限。    
umask 命令允许你设定文件创建时的缺省模式，对应每一类用户(文件属主、同组用户、其他用户)存在一个相应的umask值中的数字。
对于文件来说，这一数字的最大值分别是6。系统不允许你在创建一个文本文件时就赋予它执行权限，必须在创建后用chmod命令增加这一权限。目录则允许设置执行权限，这样针对目录来 说，umask中各个数字最大可以到7。
对于新建文件 权限 666-244得到422     
新建文件/目录的默认权限
**设置文件的默认生成掩码，新建文件/目录的默认权限**  
```
umask nnn 
```
eg: umask 444    

目录的默认权限：777 - 444 = 333  dr-xr-xr-x     
文件的默认权限：777 - 444 -111 = 222 -w--w--w-     

####chmod命令
文件类型（1位）+属主权限（3位）+属组权限（3位）+其他用户权限（3位）    
* 文件类型：d（directory目录文件）、-（普通文件）、l（link符号链接文件）、b（block块设备文件）、c（char字符设备文件）、p（pipe管道文件）、s（socket管道文件）。      
* 属主权限：文件所有者权限，可认为是文件创建者权限    
* 属组权限：文件所有者所在组权限，可认为是同组用户权限    
* 其他用户权限：非同组用户权限   
```
a：所有权限/所有用户
u：用户
g：用户组
o：其他用户
```
```
+：加上权限
-：减去权限
=：等于权限
```

###自动执行命令格式
**分 时 日 月 周 命令**

###dd命令
* dd命令用于复制文件并对原文件的内容进行转换和格式化处理。dd命令功能很强大的，对于一些比较底层的问题，使用dd命令往往可以得到出人意料的效果。
用的比较多的还是用dd来备份裸设备。但是不推荐，如果需要备份oracle裸设备，可以使用rman备份，或使用第三方软件备份，使用dd的话，管理起来不太方便。 

* df命令用于显示磁盘分区上的可使用的磁盘空间。默认显示单位为KB。可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。 

* top命令可以实时动态地查看系统的整体运行情况，是一个综合了多方信息监测系统性能和运行信息的实用工具。通过top命令所提供的互动式界面，用热键可以管理。 

* netstat命令用来打印Linux中网络系统的状态信息，可让你得知整个Linux系统的网络情况。

###mkdir参数
* -m, --mode=模式，设定权限<模式> (类似 chmod)，而不是 rwxrwxrwx 减 umask
* -p, --parents  可以是一个路径名称。此时若路径中的某些目录尚不存在,加上此选项后,系统将自动建立好那些尚不存在的目录,即一次可以建立多个目录; 
* -v, --verbose  每次创建新目录都显示信息    
* --help   显示此帮助信息并退出
* --version  输出版本信息并退出

###dd,yy,pp命令
* dd  删除一行
* yy  实现复制一行数据
* pp  实现粘贴作用

###挂载
* default表示和使用默认设置
* sw 表示自动挂载的可读写分区
* ro 表示挂载只读权限的
* rw 表示挂载读写权限的
* noauto 设备（分区）只能手动挂载

###用户态切换到内核态的3种方式
* 系统调用
* 异常
* 外围设备的中断

###su和su-
su是在用户间切换，可以是从普通用户切换到root用户，也可以是从root用户切换到普通用户。如果当前是root用户，那么切换成普通用户test用以下命令：     
```
su - test 
```
如果要切换回root用户，那么用以下命令：     
```
su或su - 
```
用户名root可以省略不写。    
切换回root用户时要输入root密码。一般直接输入exit命令来切换回root用户，这样就不用输入密码。  
区别：    
* su只是切换用户 
* su - 会切换环境变量
###服务器日志分析命令
[grep,sed,sort,awk运用](http://blog.csdn.net/ultrani/article/details/6750434)
####统计日志中ip登陆次数

```
cat catalina.log  | awk -F ' ' '{print $3}' | sort | uniq -c | wc -l
```
```
cat catalina.log | awk '{print $3}' | sort -k1nr | uniq -c | wc –l
```
1. awk -F ' ' '{print $3}' 指定空格是分隔符进行分割，取第三个。（不指定默认分隔符也是空格）
2. uniq -c（uniq命令可以去除排序过的文件中的重复行，因此uniq经常和sort合用。也就是说，为了使uniq起作用，所有的重复行必须是相邻的。参数 - c ：进行计数）
3. wc -l 行计数。
4. -k指定位置，-k1从第一个开始 -n依照数值的大小排序 -r以相反的顺序来排序